<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>tonglin0325的个人主页</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="tonglin0325的个人主页">
<meta property="og:url" content="http://tonglin0325.github.io/index.html">
<meta property="og:site_name" content="tonglin0325的个人主页">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="tonglin0325">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="tonglin0325的个人主页" type="application/atom+xml">
  
  
    <link rel="icon" href="https://tonglin0325.github.io/images/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">

  
<link rel="stylesheet" href="/css/styles.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-166238833-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5884015902351015"
     crossorigin="anonymous"></script>

<meta name="generator" content="Hexo 6.0.0"></head>

<body>
  <nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        
          <li><a class="active"
                 href="/index.html">主页</a></li>
        
          <li><a class=""
                 href="/archives/">所有文章</a></li>
        
          <li><a class=""
                 target="_blank" rel="noopener" href="http://www.cnblogs.com/tonglin0325/">博客园</a></li>
        
          <li><a class=""
                 target="_blank" rel="noopener" href="https://github.com/tonglin0325">Github</a></li>
        
          <li><a class=""
                 target="_blank" rel="noopener" href="https://www.linkedin.com/in/tonglin0325/">LinkedIn</a></li>
        
        <li>
          <span class="local-search local-search-google local-search-plugin" style="">
  <input type="search" placeholder="站内搜索" id="local-search-input" class="local-search-input-cls" style="">
  <div id="local-search-result" class="local-search-result-cls"></div>
</span>

<script>
document.addEventListener('DOMContentLoaded', (event) => {
    const div = document.getElementById('local-search-result');
    const input = document.getElementById('local-search-input');

    // 点击 input 显示 div
    input.addEventListener('click', function() {
        div.style.display = 'block';
    });

    // 点击 div 之外的地方隐藏 div
    document.addEventListener('click', function(event) {
        if (!div.contains(event.target) && event.target !== div && event.target !== input) {
            div.style.display = 'none';
        }
    });
});
</script>
        </li>
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-right">
        
          <li><a href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li>
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>


<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
<script>
// 移动设备侦测
var isMobile = {
  Android: function () {
    return navigator.userAgent.match(/Android/i);
  },
  BlackBerry: function () {
    return navigator.userAgent.match(/BlackBerry/i);
  },
  iOS: function () {
    return navigator.userAgent.match(/iPhone|iPad|iPod/i);
  },
  Opera: function () {
    return navigator.userAgent.match(/Opera Mini/i);
  },
  Windows: function () {
    return navigator.userAgent.match(/IEMobile/i);
  },
  any: function () {
    return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
  }
};

if ($('.local-search').resize() && !isMobile.any()) {
	$.getScript('/js/search.js', function() {
	  searchFunc("/search.json", 'local-search-input', 'local-search-result');
	});
}

// document.addEventListener('DOMContentLoaded', (event) => {
//
//     const input = document.getElementById('.local-search-input');
//     const div = document.getElementById('.local-search-result');
//
//     input.addEventListener('blur', function() {
//         div.style.display = 'none';
//     });
// });
</script>
  <div class="container">
    <div class="blog-header">
  <h1 class="blog-title">tonglin0325的个人主页</h1>
  
</div>

    <div class="row">
        <div class="col-sm-8 blog-main">
          
  
    <article id="post-go学习笔记——分布式事务框架DTM" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E6%A1%86%E6%9E%B6DTM.html">go学习笔记——分布式事务框架DTM</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E6%A1%86%E6%9E%B6DTM.html" class="article-date"><time datetime="2024-10-25T16:00:00.000Z" itemprop="datePublished">2024-10-26</time></a>
</div>

    <div class="article-author">tonglin0325</div>
    

  </div>

  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>DTM是一款开源的GO语言分布式事务管理器，解决跨数据库、跨服务、跨语言栈更新数据的一致性问题。</p>
<p>DTM可适合多语言栈的公司使用。方便go、python、php、nodejs、ruby、c# 各类语言使用。</p>
<p>支持的分布式事务协议包括：SAGA，TCC，XA和二阶段消息这几种模式。</p>
<p>官方网站：<a target="_blank" rel="noopener" href="https://dtm.pub/">https://dtm.pub/</a></p>
<h2 id="1-启动DTM服务"><a href="#1-启动DTM服务" class="headerlink" title="1.启动DTM服务"></a>1.启动DTM服务</h2><p>参考：<a target="_blank" rel="noopener" href="https://dtm.pub/guide/install.html#%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%8C%85%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85">https://dtm.pub/guide/install.html#%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%8C%85%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85</a></p>
<p>项目</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/dtm-labs/dtm</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>git dtm项目</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/dtm-labs/dtm &amp;amp;&amp;amp; cd dtm</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>启动dtm</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./dtm</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>dtm运行后，会监听两个端口</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http：36789</span><br><span class="line">grpc：36790</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="2-分布式事务协议"><a href="#2-分布式事务协议" class="headerlink" title="2.分布式事务协议"></a>2.分布式事务协议</h2><h3 id="1-SAGA模式"><a href="#1-SAGA模式" class="headerlink" title="1.SAGA模式"></a>1.SAGA模式</h3><p>Saga核心思想是将长事务拆分为多个短事务，由Saga事务协调器协调，如果每个短事务都成功提交完成，那么全局事务就正常完成，如果某个步骤失败，则根据相反顺序一次调用补偿操作。</p>
<p><strong>适用场景</strong>：适合需要最终一致性的大型跨服务事务，且允许一定时间的临时不一致。</p>
<p><strong>优点</strong>：实现简单，不需要锁定资源，性能高。</p>
<p><strong>缺点</strong>：数据一致性较弱，可能存在短时间的不一致。</p>
<h3 id="2-TCC模式"><a href="#2-TCC模式" class="headerlink" title="2.TCC模式"></a>2.TCC模式</h3><p>TCC分为3个阶段</p>
<ul>
<li>Try 资源预留阶段：尝试执行，完成所有业务检查（一致性）, 预留必须业务资源（准隔离性）</li>
<li>Confirm 确认阶段：如果所有分支的Try都成功了，则走到Confirm阶段。Confirm真正执行业务，不作任何业务检查，只使用 Try 阶段预留的业务资源</li>
<li>Cancel 取消阶段：如果所有分支的Try有一个失败了，则走到Cancel阶段。Cancel释放 Try 阶段预留的业务资源。</li>
</ul>
<p><strong>适用场景</strong>：适合强一致性要求的场景，例如支付扣款、库存预扣等需要确保每个操作的资源在短时间内完全一致。</p>
<p><strong>优点</strong>：可以精细控制资源的锁定和释放，提高一致性。</p>
<p><strong>缺点</strong>：实现复杂，需为每个操作编写补偿逻辑。</p>
<h3 id="3-二阶段消息模式"><a href="#3-二阶段消息模式" class="headerlink" title="3.二阶段消息模式"></a>3.二阶段消息模式</h3><h3 id="4-XA模式"><a href="#4-XA模式" class="headerlink" title="4.XA模式"></a>4.XA模式</h3><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul>
<li>二阶段消息模式: 适合不需要回滚的场景</li>
<li>saga模式: 适合需要回滚的场景</li>
<li>tcc事务模式: 适合一致性要求较高的场景</li>
<li>xa事务模式: 适合并发要求不高，没有数据库行锁争抢的场景</li>
</ul>
        
          <p class="article-more-link">
            <a class="btn btn-primary" href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E6%A1%86%E6%9E%B6DTM.html#more">全文 &gt;&gt;</a>
          </p>
        

      
    </div>

    

    <footer class="article-footer">
      <a data-url="http://tonglin0325.github.io/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E6%A1%86%E6%9E%B6DTM.html" data-id="cm2q4tepp0000xd0lgobnemok" class="article-share-link">
        <i class="fa fa-share"></i> 分享
      </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/" rel="tag">golang</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-golang项目引用GitHub私有仓库module" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/golang%E9%A1%B9%E7%9B%AE%E5%BC%95%E7%94%A8GitHub%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93module.html">golang项目引用GitHub私有仓库module</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/golang%E9%A1%B9%E7%9B%AE%E5%BC%95%E7%94%A8GitHub%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93module.html" class="article-date"><time datetime="2024-10-18T16:00:00.000Z" itemprop="datePublished">2024-10-19</time></a>
</div>

    <div class="article-author">tonglin0325</div>
    

  </div>

  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-创建go-module项目"><a href="#1-创建go-module项目" class="headerlink" title="1.创建go module项目"></a>1.创建go module项目</h2><img src="/images/517519-20241019214247291-2081870372.png" width="600" height="581" loading="lazy" />

<p>module的名字假设为go-test</p>
<img src="/images/517519-20241019214747049-1769269194.png" width="500" height="434" loading="lazy" />

<p>module项目创建成功后，将go.mod文件中的 module “go-test” 修改成</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">module &quot;github.com/tonglin0325/go-test&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>避免引用的时候go get报错，如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">go get github.com/tonglin0325/go-test@latest</span><br><span class="line">go: github.com/tonglin0325/go-test@latest (v1.0.0) requires github.com/tonglin0325/go-test@v1.0.0: parsing go.mod:</span><br><span class="line">	module declares its path as: go-test</span><br><span class="line">	        but was required as: github.com/tonglin0325/go-test</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在module中写好代码后上传到github上，并在github上给项目打上tag</p>
<img src="/images/517519-20241019221052393-373242894.png" width="700" height="597" loading="lazy" />

<p>如果GitHub repository设置成public的话，此时就可以使用如下命令引用这个module了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  /Users/lintong/coding/go/gin-template git:(main) ✗ $ go get github.com/tonglin0325/go-test@latest</span><br><span class="line">go: downloading github.com/tonglin0325/go-test v1.0.1</span><br><span class="line">go: added github.com/tonglin0325/go-test v1.0.1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="2-引用私有仓库的go-module"><a href="#2-引用私有仓库的go-module" class="headerlink" title="2.引用私有仓库的go module"></a>2.引用私有仓库的go module</h2><p>如果电脑配置了github的私钥的话，可以直接使用go get命令来引用私有仓库的依赖</p>
<p>如果没有设置的话，则可以使用github的token来下载依赖</p>
<p>在github用户settings的Developer settings中创建一个token，token name假设为goland</p>
<img src="/images/517519-20241019223454556-1656569630.png" width="400" height="202" loading="lazy" />

<p>指定go module的项目，并设置contents设置为read only</p>
<img src="/images/517519-20241019224009494-1573477091.png" width="500" height="199" loading="lazy" />

<p>创建后获得token</p>
<p>重新设置github使用账号+token来拉取依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global url.&quot;https://tonglin0325:your_token@github.com&quot;.insteadOf &quot;https://github.com&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看git配置是否添加成功</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global -l</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如果添加错误可以unset之后再重新set</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset xxx</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>指定拉取go-test依赖的时候使用私有仓库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go env -w GOPRIVATE=github.com/tonglin0325/go-test</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看go环境变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go env</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如果设置失败，可以删除后再添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go env -u GOPRIVATE</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>最后使用go get命令引用依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go get github.com/tonglin0325/go-test@latest</span><br><span class="line"></span><br></pre></td></tr></table></figure>
        
          <p class="article-more-link">
            <a class="btn btn-primary" href="/golang%E9%A1%B9%E7%9B%AE%E5%BC%95%E7%94%A8GitHub%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93module.html#more">全文 &gt;&gt;</a>
          </p>
        

      
    </div>

    

    <footer class="article-footer">
      <a data-url="http://tonglin0325.github.io/golang%E9%A1%B9%E7%9B%AE%E5%BC%95%E7%94%A8GitHub%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93module.html" data-id="cm2gdo79y0000ql0l0sgjf4lt" class="article-share-link">
        <i class="fa fa-share"></i> 分享
      </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/" rel="tag">golang</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-k8s学习笔记——Istio和Kong" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/k8s%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Istio%E5%92%8CKong.html">k8s学习笔记——Istio和Kong</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/k8s%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Istio%E5%92%8CKong.html" class="article-date"><time datetime="2024-08-16T16:00:00.000Z" itemprop="datePublished">2024-08-17</time></a>
</div>

    <div class="article-author">tonglin0325</div>
    

  </div>

  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <!-- 目录 -->

<div id="toc">
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-istio"><span class="toc-text">1.Istio</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-kong"><span class="toc-text">2.Kong</span></a></li></ol>
</div>

        <p><strong><strong>服务网格（Service Mesh）</strong>是一种用于处理微服务架构中服务间通信的基础设施层。它的主要作用是提供可靠的服务发现、负载均衡、故障恢复、指标监控和安全性，通常无需对服务代码进行大量修改。服务网格通过在每个服务实例旁边部署一个轻量级代理（sidecar）来实现这些功能。</strong></p>
<h2 id="1-istio"><a href="#1-Istio" class="headerlink" title="1.Istio"></a>1.Istio<a href="#1-istio" class="header-anchor">#</a></h2><p><strong>Istio</strong> 是一个开源的服务网格（Service Mesh），透明地层叠到现有的分布式应用程序之上。Istio 强大的功能提供了一种统一且更高效的方式来保护、连接和监控服务。Istio 是实现负载均衡、服务间身份验证和监控的途径&mdash;&mdash;几乎无需修改服务代码。它为你提供：</p>
<ul>
<li>集群中服务间的安全通信，采用双向 TLS 加密，基于强身份的身份验证和授权</li>
<li>HTTP、gRPC、WebSocket 和 TCP 流量的自动负载均衡</li>
<li>通过丰富的路由规则、重试、故障切换和故障注入对流量行为进行细粒度控制</li>
<li>支持访问控制、速率限制和配额的可插拔策略层和配置 API</li>
<li>集群内所有流量（包括集群入口和出口）的自动化指标、日志和跟踪</li>
</ul>
<p>参考：<a target="_blank" rel="noopener" href="https://istio.io/latest/docs/overview/what-is-istio/">https://istio.io/latest/docs/overview/what-is-istio/</a></p>
<p>Istio 的流量管理模型源于和服务一起部署的 Envoy 代理。 网格内服务发送和接收的所有 data plane 流量都经由 Envoy 代理， 这让控制网格内的流量变得异常简单，而且不需要对服务做任何的更改。</p>
<p><strong>Envoy</strong> 是在 Istio 里使用的高性能代理，用于为所有服务网格里的服务调度进出的流量。</p>
<p>参考：<a target="_blank" rel="noopener" href="https://istio.io/latest/zh/docs/concepts/traffic-management/">https://istio.io/latest/zh/docs/concepts/traffic-management/</a></p>
<h2 id="2-kong"><a href="#2-Kong" class="headerlink" title="2.Kong"></a>2.Kong<a href="#2-kong" class="header-anchor">#</a></h2><p>Kong 提供了两个主要产品：Kong Gateway 和 Kuma。</p>
<p><strong>Kong Gateway</strong> 是一个云原生 API 网关，专注于管理、配置和路由 API 请求。它提供了强大的插件系统，可以扩展其功能以实现身份验证、速率限制、日志记录等功能。Kong Gateway 主要用于处理进出 API 的流量，但它不具备完整的服务网格功能。</p>
<p><strong>Kuma</strong> 是 Kong 开发的一个服务网格，旨在简化服务间通信的管理。Kuma 提供了服务网格的所有核心功能，包括服务发现、负载均衡、故障恢复、可观察性和安全性。Kuma 可以部署在多个环境中，包括 Kubernetes 和虚拟机。</p>

        <div class="article-entry">
          <div id="footer-info" class="inner">
          本文只发表于博客园和<a href="https://tonglin0325.github.io" target="_blank">tonglin0325的博客</a>，作者：tonglin0325，转载请注明原文链接：<a href="https://tonglin0325.github.io/k8s%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Istio%E5%92%8CKong.html"></a>
          </div>
        </div>
      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://tonglin0325.github.io/k8s%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Istio%E5%92%8CKong.html" data-id="clzfpdb7800001u0l6wym6g74" class="article-share-link">
        <i class="fa fa-share"></i> 分享
      </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/k8s/" rel="tag">k8s</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-k8s学习笔记——ingress" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/k8s%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94ingress.html">k8s学习笔记——ingress</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/k8s%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94ingress.html" class="article-date"><time datetime="2024-08-03T16:00:00.000Z" itemprop="datePublished">2024-08-04</time></a>
</div>

    <div class="article-author">tonglin0325</div>
    

  </div>

  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <!-- 目录 -->

<div id="toc">
  
</div>

        <p><strong>Ingress</strong> 提供从集群外部到集群内<strong>服务（service）</strong>的 HTTP 和 HTTPS 路由。 流量路由由 Ingress 资源所定义的规则来控制。</p>
<p>下面是 Ingress 的一个简单示例，可将所有流量都发送到同一 Service：</p>
<img src="/images/ingress.svg" alt="ingress-diagram">

<p>通过配置，Ingress 可为 Service 提供外部可访问的 URL、对其流量作负载均衡、 终止 SSL/TLS，以及基于名称的虚拟托管等能力。 <strong>Ingress 控制器</strong> 负责完成 Ingress 的工作，具体实现上通常会使用某个负载均衡器， 不过也可以配置边缘路由器或其他前端来帮助处理流量。</p>
<p>参考：<a target="_blank" rel="noopener" href="https://kubernetes.io/zh-cn/docs/concepts/services-networking/ingress/">https://kubernetes.io/zh-cn/docs/concepts/services-networking/ingress/</a></p>
<p>典型的Ingress 控制器有 <a target="_blank" rel="noopener" href="https://kubernetes.github.io/ingress-nginx/deploy/">ingress-nginx</a> ，<a target="_blank" rel="noopener" href="https://istio.io/latest/zh/docs/tasks/traffic-management/ingress/kubernetes-ingress/">Istio Ingress</a>（一个基于 <a target="_blank" rel="noopener" href="https://istio.io/zh/">Istio</a> 的 Ingress 控制器），<a target="_blank" rel="noopener" href="https://github.com/Kong/kubernetes-ingress-controller#readme">用于 Kubernetes 的 Kong Ingress 控制器</a>（一个用来驱动 <a target="_blank" rel="noopener" href="https://konghq.com/kong/">Kong Gateway</a> 的 Ingress 控制器）</p>
<p>参考：<a target="_blank" rel="noopener" href="https://kubernetes.io/zh-cn/docs/concepts/services-networking/ingress-controllers/">https://kubernetes.io/zh-cn/docs/concepts/services-networking/ingress-controllers/</a></p>

        <div class="article-entry">
          <div id="footer-info" class="inner">
          本文只发表于博客园和<a href="https://tonglin0325.github.io" target="_blank">tonglin0325的博客</a>，作者：tonglin0325，转载请注明原文链接：<a href="https://tonglin0325.github.io/k8s%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94ingress.html"></a>
          </div>
        </div>
      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://tonglin0325.github.io/k8s%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94ingress.html" data-id="clzfpdb7b00021u0letsd1kjh" class="article-share-link">
        <i class="fa fa-share"></i> 分享
      </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/k8s/" rel="tag">k8s</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-Presto学习笔记——Go客户端连接Presto" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/Presto%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Go%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%9E%E6%8E%A5Presto.html">Presto学习笔记——Go客户端连接Presto</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/Presto%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Go%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%9E%E6%8E%A5Presto.html" class="article-date"><time datetime="2024-05-11T16:00:00.000Z" itemprop="datePublished">2024-05-12</time></a>
</div>

    <div class="article-author">tonglin0325</div>
    

  </div>

  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-查询PrestoDB（facebook版本）"><a href="#1-查询PrestoDB（facebook版本）" class="headerlink" title="1.查询PrestoDB（facebook版本）"></a>1.查询PrestoDB（facebook版本）</h2><h3 id="1-创建PrestoDB环境"><a href="#1-创建PrestoDB环境" class="headerlink" title="1.创建PrestoDB环境"></a>1.创建PrestoDB环境</h3><p>使用docker创建presto测试环境</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://hub.docker.com/r/prestodb/presto/tags</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>拉取镜像</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull prestodb/presto:0.284</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>启动</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 8080:8080 -ti -v /Users/lintong/Downloads/config.properties:/opt/presto-server/etc/config.properties -v /Users/lintong/Downloads/jvm.config:/opt/presto-server/etc/jvm.config prestodb/presto:0.284</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>其中config.properties配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">coordinator=true</span><br><span class="line">node-scheduler.include-coordinator=true</span><br><span class="line">http-server.http.port=8080</span><br><span class="line">query.max-memory=5GB</span><br><span class="line">query.max-memory-per-node=1GB</span><br><span class="line">discovery-server.enabled=true</span><br><span class="line">discovery.uri=http://localhost:8080</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>jvm.config</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-server</span><br><span class="line">-Xmx4G</span><br><span class="line">-XX:+UseG1GC</span><br><span class="line">-XX:G1HeapRegionSize=32M</span><br><span class="line">-XX:+UseGCOverheadLimit</span><br><span class="line">-XX:+ExplicitGCInvokesConcurrent</span><br><span class="line">-XX:+HeapDumpOnOutOfMemoryError</span><br><span class="line">-XX:+ExitOnOutOfMemoryError</span><br><span class="line">-Djdk.attach.allowAttachSelf=true</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>配置参考：<a target="_blank" rel="noopener" href="https://github.com/prestodb/presto/tree/master/docker/etc">https://github.com/prestodb/presto/tree/master/docker/etc</a></p>
<p><a target="_blank" rel="noopener" href="https://prestodb.github.io/docs/current/installation/deployment.html">https://prestodb.github.io/docs/current/installation/deployment.html</a></p>
<p>访问localhost:8080</p>
<img src="/images/517519-20240107224957284-852123923.png" width="700" height="336" />

<h3 id="2-使用client连接PrestoDB"><a href="#2-使用client连接PrestoDB" class="headerlink" title="2.使用client连接PrestoDB"></a>2.使用client连接PrestoDB</h3><p>可以使用presto-go-client，官方文档</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/prestodb/presto-go-client</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>引入依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go get github.com/prestodb/presto-go-client/presto</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>go连接数据库使用的是database/sql，还需要额外引入具体数据库的driver，比如</p>
<p>presto的github.com/prestodb/presto-go-client/presto</p>
<p>mysql的github.com/go-sql-driver/mysql</p>
<p>impala的github.com/bippio/go-impala</p>
<p>查询presto代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">import (</span><br><span class="line">	&quot;database/sql&quot;</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	_ &quot;github.com/prestodb/presto-go-client/presto&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	dsn := &quot;http://user@localhost:8080?catalog=default&amp;amp;schema=test&quot;</span><br><span class="line">	db, err := sql.Open(&quot;presto&quot;, dsn)</span><br><span class="line">	if err != nil &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	rows, err := db.Query(&quot;SELECT name, age FROM foobar WHERE id=?&quot;)</span><br><span class="line">	if err != nil &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line"> 	&#125;</span><br><span class="line">	defer func() &#123;</span><br><span class="line">		_ = db.Close()</span><br><span class="line">	&#125;()</span><br><span class="line">	// 迭代结果行</span><br><span class="line">	for rows.Next() &#123;</span><br><span class="line">		var col1 string</span><br><span class="line">		var col2 int</span><br><span class="line">		if err := rows.Scan(&amp;amp;col1, &amp;amp;col2); err != nil &#123;</span><br><span class="line">			fmt.Println(&quot;扫描行失败：&quot;, err)</span><br><span class="line">			return</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println(col1, col2)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>参考：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/025fed13bfbc">golang+presto查询在数据平台中ad hoc查询</a></p>
<p>如果想同时查询多行的话，也可以先定义一个struct</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">type YourTable struct &#123;</span><br><span class="line">　　Col1 string</span><br><span class="line">　　Col2 int</span><br><span class="line">　　Col3 float64</span><br><span class="line">　　// 其他列...</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>然后在迭代查询的时候使用这个struct</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 迭代结果行</span><br><span class="line">for rows.Next() &#123;</span><br><span class="line">　　var row YourTable</span><br><span class="line">　　if err := rows.Scan(&amp;amp;row.Col1, &amp;amp;row.Col2, &amp;amp;row.Col3); err != nil &#123;</span><br><span class="line">　　　　fmt.Println(&quot;扫描行失败：&quot;, err)</span><br><span class="line">　　　　return</span><br><span class="line">　　&#125;</span><br><span class="line">　　fmt.Println(row)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-使用REST-API连接PrestoDB"><a href="#3-使用REST-API连接PrestoDB" class="headerlink" title="3.使用REST API连接PrestoDB"></a>3.使用REST API连接PrestoDB</h3><p>参考官方文档</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://prestodb.io/docs/current/develop/client-protocol.html</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>其实presto-go-client底层也是使用presto的REST API的POST请求来提交任务，参考源码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/prestodb/presto-go-client/tree/master/presto#L635</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="2-查询Trino（社区版本）"><a href="#2-查询Trino（社区版本）" class="headerlink" title="2.查询Trino（社区版本）"></a>2.查询Trino（社区版本）</h2><h3 id="1-创建Trino环境"><a href="#1-创建Trino环境" class="headerlink" title="1.创建Trino环境"></a>1.创建Trino环境</h3><p>创建Trino环境用于测试可以使用docker</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://hub.docker.com/r/trinodb/trino/tags</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>拉取镜像</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull trinodb/trino:435</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>启动</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 8080:8080 -ti trinodb/trino:435</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>访问localhost:8080，默认密码不启用，随便输入一个用户名</p>
<img src="/images/517519-20240107225450906-279955707.png" width="300" height="211" />

<p>界面</p>
<img src="/images/517519-20240107225553783-1783863032.png" width="700" height="364" />

<h3 id="2-使用client连接trino"><a href="#2-使用client连接trino" class="headerlink" title="2.使用client连接trino"></a>2.使用client连接trino</h3><p>可以使用trino-go-client，官方文档</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/trinodb/trino-go-client</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>引入依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go get github.com/trinodb/trino-go-client/trino</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查询trino代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import (</span><br><span class="line">	&quot;database/sql&quot;</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line">import _ &quot;github.com/trinodb/trino-go-client/trino&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	dsn := &quot;http://user@localhost:8080?catalog=default&amp;amp;schema=test&quot;</span><br><span class="line">	db, err := sql.Open(&quot;trino&quot;, dsn)</span><br><span class="line">	if err != nil &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">	&#125;</span><br><span class="line">	defer func() &#123;</span><br><span class="line">		_ = db.Close()</span><br><span class="line">	&#125;()</span><br><span class="line">	db.Query(&quot;SELECT * FROM foobar WHERE id=?&quot;, 1, sql.Named(&quot;X-Trino-User&quot;, string(&quot;Alice&quot;)))</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-使用REST-API连接TrinoDB"><a href="#3-使用REST-API连接TrinoDB" class="headerlink" title="3.使用REST API连接TrinoDB"></a>3.使用REST API连接TrinoDB</h3><p>参考官方文档</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://trino.io/docs/current/develop/client-protocol.html</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>其实trino-go-client底层也是使用trino的REST API的POST请求来提交任务，参考源码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/trinodb/trino-go-client/blob/master/trino/trino.go#L820</span><br><span class="line"></span><br></pre></td></tr></table></figure>
        
          <p class="article-more-link">
            <a class="btn btn-primary" href="/Presto%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Go%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%9E%E6%8E%A5Presto.html#more">全文 &gt;&gt;</a>
          </p>
        

      
    </div>

    

    <footer class="article-footer">
      <a data-url="http://tonglin0325.github.io/Presto%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Go%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%9E%E6%8E%A5Presto.html" data-id="clr3mrd8o0000840lagdv6pwy" class="article-share-link">
        <i class="fa fa-share"></i> 分享
      </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/presto/" rel="tag">presto</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-go学习笔记——wire依赖注入" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94wire%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html">go学习笔记——wire依赖注入</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94wire%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html" class="article-date"><time datetime="2024-05-11T16:00:00.000Z" itemprop="datePublished">2024-05-12</time></a>
</div>

    <div class="article-author">tonglin0325</div>
    

  </div>

  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>wire是google开源的使用依赖注入来自动连接组件的代码生成工具</p>
<p>安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go install github.com/google/wire/cmd/wire@latest</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>官方使用文档：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/google/wire/blob/main/docs/guide.md">https://github.com/google/wire/blob/main/docs/guide.md</a></p>
<p>文档参考：</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7101966893522616356">手把手，带你从零封装Gin框架（十二）：使用 Wire 依赖注入重构</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7124694553667305485">golang中的依赖注入之wire</a></p>
<p>参考项目：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/jassue/gin-wire">https://github.com/jassue/gin-wire</a></p>
<p>如果遇到下面报错</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wire: /xxx/cmd/server/wire.go:17:1: inject wireApp: unused provider set &quot;ProviderSet&quot;</span><br><span class="line">wire: xx/cmd/server: generate failed</span><br><span class="line">wire: at least one generate failure</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这是因为设置了依赖注入的方法没能找到调用者，在gin项目中，调用的顺序一般是data层-&gt;service层-&gt;handler层-&gt;router层-&gt;httpserver-&gt;app</p>
<p>所以需要把调用的ProviderSet在wire.go文件中完整的写出来，不能出现中间中断的情况，wire_gen才能正常的生成</p>
<p>比如写了data，service，router，httpserver和app，但是漏了handler，这样就会报上面的错误</p>
<p>如果只写了router，httpserver和app，这样是可以正常生成的</p>
<p>可以参考：<a target="_blank" rel="noopener" href="https://github.com/jassue/gin-wire/blob/main/cmd/app/wire_gen.go">https://github.com/jassue/gin-wire/blob/main/cmd/app/wire_gen.go</a> 中的调用层次</p>
<img src="/images/517519-20240303155002954-1768762066.png" width="800" height="550" />
        
          <p class="article-more-link">
            <a class="btn btn-primary" href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94wire%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#more">全文 &gt;&gt;</a>
          </p>
        

      
    </div>

    

    <footer class="article-footer">
      <a data-url="http://tonglin0325.github.io/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94wire%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html" data-id="cls1zl0wn0006010l4vze73gp" class="article-share-link">
        <i class="fa fa-share"></i> 分享
      </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/" rel="tag">golang</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-screen使用教程" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/screen%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B.html">screen使用教程</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/screen%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B.html" class="article-date"><time datetime="2024-05-08T16:00:00.000Z" itemprop="datePublished">2024-05-09</time></a>
</div>

    <div class="article-author">tonglin0325</div>
    

  </div>

  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <!-- 目录 -->

<div id="toc">
  
</div>

        <p>在terminal上使用跳板机远程登录其他机器的时候，经常会因为和跳板机的连接断开而丢失会话，如下</p>
<img src="/images/517519-20230322234309773-711501839.png" width="400" height="61">

<p>这时候可以使用screen命令来创建和恢复会话</p>
<p>1.创建会话</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">screen </span><br><span class="line">或者</span><br><span class="line">screen -S session_name</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这时我们就进到了一个screen会话中，比如我们进到/tmp目录下</p>
<img src="/images/517519-20230322233429641-420003311.png" width="600" height="100">

<p>2.查看现有的会话</p>
<p>这时候我们把这个terminal窗口直接关闭掉，另外开启一个terminal，输入如下命令来查看现有的会话</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">screen -ls</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>会发现当前的会话仍然存在，处于分离状态</p>
<img src="/images/517519-20230322233647113-2032972234.png" width="500" height="78">

<p>3.恢复会话</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen -r session_name</span><br></pre></td></tr></table></figure>

<img src="/images/517519-20230322233906904-1771483351.png" width="400" height="41">

<p>会发现我们刚才的/tmp目录的会话就被恢复了</p>
<img src="/images/517519-20230322234007471-1708114574.png" width="500" height="80">

<p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34243930/article/details/106771285">Linux–screen远程必备 #screen常用命令-会话的创建、恢复、删除(&amp;重命名删除)用法</a></p>

        <div class="article-entry">
          <div id="footer-info" class="inner">
          本文只发表于博客园和<a href="https://tonglin0325.github.io" target="_blank">tonglin0325的博客</a>，作者：tonglin0325，转载请注明原文链接：<a href="https://tonglin0325.github.io/screen%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B.html"></a>
          </div>
        </div>
      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://tonglin0325.github.io/screen%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B.html" data-id="cln8csf9200rel00lasxn2t5s" class="article-share-link">
        <i class="fa fa-share"></i> 分享
      </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-go学习笔记——常用命令" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html">go学习笔记——常用命令</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" class="article-date"><time datetime="2024-05-08T16:00:00.000Z" itemprop="datePublished">2024-05-09</time></a>
</div>

    <div class="article-author">tonglin0325</div>
    

  </div>

  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-查找go依赖"><a href="#1-查找go依赖" class="headerlink" title="1.查找go依赖"></a>1.查找go依赖</h2><p>go依赖可以去下面网站查找package</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://pkg.go.dev/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>比如</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://pkg.go.dev/github.com/confluentinc/confluent-kafka-go#section-readme</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="2-go切换源"><a href="#2-go切换源" class="headerlink" title="2.go切换源"></a>2.go切换源</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 启用 Go Modules 功能</span><br><span class="line">go env -w GO111MODULE=on</span><br><span class="line"># 切换源</span><br><span class="line">go env -w  GOPROXY=https://goproxy.io,direct</span><br><span class="line"># 确认是否生效</span><br><span class="line">go env</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="3-安装指定依赖"><a href="#3-安装指定依赖" class="headerlink" title="3.安装指定依赖"></a>3.安装指定依赖</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">go get -u github.com/confluentinc/confluent-kafka-go/kafka</span><br><span class="line">go get: added github.com/confluentinc/confluent-kafka-go v1.9.2</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如果想安装特定版本的依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go get github.com/confluentinc/confluent-kafka-go/kafka@v1.9.2</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="4-下载依赖"><a href="#4-下载依赖" class="headerlink" title="4.下载依赖"></a>4.下载依赖</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go mod download</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="5-清理无用的依赖"><a href="#5-清理无用的依赖" class="headerlink" title="5.清理无用的依赖"></a>5.清理无用的依赖</h2><p>下载缺失依赖，并清理无用的依赖（包括清理 go.mod 中的记录）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go mod tidy</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>go.mod文件中就会出现所安装的依赖</p>
<img src="/images/517519-20221213215012776-2071918062.png" width="800" height="124" />

<p>参考：<a target="_blank" rel="noopener" href="https://farer.org/2018/11/11/go-modules-notes/">真官方依赖管理 Go Modules 怎么玩（从入门到放弃）</a></p>
<h2 id="6-在项目根目录下会生成go-mod文件"><a href="#6-在项目根目录下会生成go-mod文件" class="headerlink" title="6.在项目根目录下会生成go.mod文件"></a>6.在项目根目录下会生成go.mod文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go mod init [模块名]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
        
          <p class="article-more-link">
            <a class="btn btn-primary" href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#more">全文 &gt;&gt;</a>
          </p>
        

      
    </div>

    

    <footer class="article-footer">
      <a data-url="http://tonglin0325.github.io/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" data-id="clpfik9n00000q50la2oyhlli" class="article-share-link">
        <i class="fa fa-share"></i> 分享
      </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/" rel="tag">golang</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-go学习笔记——gin框架" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94gin%E6%A1%86%E6%9E%B6.html">go学习笔记——gin框架</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94gin%E6%A1%86%E6%9E%B6.html" class="article-date"><time datetime="2024-05-08T16:00:00.000Z" itemprop="datePublished">2024-05-09</time></a>
</div>

    <div class="article-author">tonglin0325</div>
    

  </div>

  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>gin是一款轻量级的go web开发框架，官方文档</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://gin-gonic.com/docs/examples/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="1-gin-web项目结构"><a href="#1-gin-web项目结构" class="headerlink" title="1.gin web项目结构"></a>1.gin web项目结构</h2><p>参考</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/voyagegroup/gin-boilerplate</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>gin+protobuf wire参考</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/mohuishou/blog-code/tree/main/01-go-training/04-project/10-layout</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="2-gin-web-quick-start"><a href="#2-gin-web-quick-start" class="headerlink" title="2.gin web quick start"></a>2.gin web quick start</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://gin-gonic.com/docs/quickstart/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在官方文档中提供了2个quick start的demo，一个稍微复杂，一个比较简单</p>
<p>简单的例子如下，创建一个/ping接口，返回pong</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;github.com/gin-gonic/gin&quot;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	r := gin.Default()</span><br><span class="line">	r.GET(&quot;/ping&quot;, func(c *gin.Context) &#123;</span><br><span class="line">		c.JSON(200, gin.H&#123;</span><br><span class="line">			&quot;message&quot;: &quot;pong&quot;,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	r.Run() // listen and serve on 0.0.0.0:8080</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="3-路由分组"><a href="#3-路由分组" class="headerlink" title="3.路由分组"></a>3.路由分组</h2><p>如果gin项目的接口比较多的话，可以使用路由分组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://gin-gonic.com/docs/examples/grouping-routes/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>参考：<a target="_blank" rel="noopener" href="https://juejin.cn/post/7220329768108146743">【Go】基于 Gin 从0到1搭建 Web 管理后台系统后端服务（三）路由、自定义校验器和 Redis</a></p>
<h2 id="4-数据绑定"><a href="#4-数据绑定" class="headerlink" title="4.数据绑定"></a>4.数据绑定</h2><p>将请求的参数传递给接口中的变量，需要使用gin的数据绑定</p>
<p>如果是path parameter</p>
<p>使用c.Param(“name”)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://gin-gonic.com/docs/examples/param-in-path/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>使用c.ShouldBindUri(&amp;person)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://gin-gonic.com/docs/examples/bind-uri/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如果是query parameter或者post请求的form-data</p>
<p>使用c.ShouldBind(&amp;user)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://gin-gonic.com/docs/examples/bind-query-or-post/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="5-统一的response"><a href="#5-统一的response" class="headerlink" title="5.统一的response"></a>5.统一的response</h2><p>可以如下定义统一的接口response，其中的interface{}类似java中的泛型T</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">type ControllerResponse struct &#123;</span><br><span class="line">	Code int</span><br><span class="line">	Msg  string</span><br><span class="line">	Data interface&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func Response(ctx *gin.Context, code int, msg string, data interface&#123;&#125;) &#123;</span><br><span class="line">	resp := ControllerResponse&#123;Code: code, Msg: msg, Data: data&#125;</span><br><span class="line">	ctx.JSON(code, resp)</span><br><span class="line">	ctx.Abort()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func Success(ctx *gin.Context, msg string, data interface&#123;&#125;) &#123;</span><br><span class="line">	Response(ctx, 200, msg, data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func Fail(ctx *gin.Context, msg string, data interface&#123;&#125;) &#123;</span><br><span class="line">	Response(ctx, 500, msg, data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43881017/article/details/112471847">go语言web开发系列之十五:gin框架统一定义API错误码</a></p>
<h2 id="6-Gin的middleware中间件"><a href="#6-Gin的middleware中间件" class="headerlink" title="6.Gin的middleware中间件"></a>6.Gin的middleware中间件</h2><h3 id="1-使用middleware"><a href="#1-使用middleware" class="headerlink" title="1.使用middleware"></a>1.使用middleware</h3><p>gin的middleware需要实现<strong>gin.HandlerFunc</strong>，可以用其来实现诸如jwt，auth等功能，参考</p>
<p><a target="_blank" rel="noopener" href="https://github.com/gin-gonic/contrib/blob/master/jwt/jwt.go">https://github.com/gin-gonic/contrib/blob/master/jwt/jwt.go</a></p>
<p><a target="_blank" rel="noopener" href="https://gin-gonic.com/zh-cn/docs/examples/using-middleware/">https://gin-gonic.com/zh-cn/docs/examples/using-middleware/</a></p>
<p>下面定义了3个middleware</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// MiddleWare1 定义中间件1</span><br><span class="line">func MiddleWare1() gin.HandlerFunc &#123;</span><br><span class="line">	return func(c *gin.Context) &#123;</span><br><span class="line">		fmt.Println(&quot;前 m1&quot;)</span><br><span class="line">		c.Next()</span><br><span class="line">		fmt.Println(&quot;后 m1&quot;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// MiddleWare2 定义中间件2</span><br><span class="line">func MiddleWare2() gin.HandlerFunc &#123;</span><br><span class="line">	return func(c *gin.Context) &#123;</span><br><span class="line">		fmt.Println(&quot;前 m2&quot;)</span><br><span class="line">		c.Next()</span><br><span class="line">		fmt.Println(&quot;后 m2&quot;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// MiddleWare3 定义中间件3</span><br><span class="line">func MiddleWare3() gin.HandlerFunc &#123;</span><br><span class="line">	return func(c *gin.Context) &#123;</span><br><span class="line">		fmt.Println(&quot;前 m3&quot;)</span><br><span class="line">		c.Next()</span><br><span class="line">		fmt.Println(&quot;后 m3&quot;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在gin中添加middleware</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">func main() &#123;</span><br><span class="line">   // 创建路由</span><br><span class="line">   engine := gin.Default()</span><br><span class="line"></span><br><span class="line">   // 注册中间件</span><br><span class="line">   engine.Use(MiddleWare1(), MiddleWare2(), MiddleWare3())</span><br><span class="line"></span><br><span class="line">   // 路由规则</span><br><span class="line">   engine.GET(&quot;/ping&quot;, func(c *gin.Context) &#123;</span><br><span class="line">      fmt.Println(&quot;hello world&quot;)</span><br><span class="line">      c.JSON(200, gin.H&#123;&quot;msg&quot;: &quot;pong&quot;&#125;)</span><br><span class="line">   &#125;)</span><br><span class="line">   err:=engine.Run(&quot;:3000&quot;)</span><br><span class="line">   if err != nil &#123;</span><br><span class="line">      fmt.Println(err)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">前 m1</span><br><span class="line">前 m2</span><br><span class="line">前 m3</span><br><span class="line">hello world</span><br><span class="line">后 m3</span><br><span class="line">后 m2</span><br><span class="line">后 m1</span><br><span class="line">[GIN] 2023/12/25 - 00:06:11 | 200 |      35.726&amp;micro;s |       127.0.0.1 | GET      &quot;/ping&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>接口返回pong</p>
<h3 id="2-Next-和Abort"><a href="#2-Next-和Abort" class="headerlink" title="2.Next()和Abort()"></a>2.Next()和Abort()</h3><p>Next()之前的代码会在执行HandlerFunc之前执行，之后的代码会在执行HandlerFunc之后执行</p>
<p>如果将middleware2中的c.Next()修改成c.Abort()</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// MiddleWare2 定义中间件2</span><br><span class="line">func MiddleWare2() gin.HandlerFunc &#123;</span><br><span class="line">	return func(c *gin.Context) &#123;</span><br><span class="line">		fmt.Println(&quot;前 m2&quot;)</span><br><span class="line">		c.Abort()</span><br><span class="line">		fmt.Println(&quot;后 m2&quot;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>则输出将会如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">前 m1</span><br><span class="line">前 m2</span><br><span class="line">后 m2</span><br><span class="line">后 m1</span><br><span class="line">[GIN] 2023/12/25 - 00:11:05 | 200 |      16.262&amp;micro;s |       127.0.0.1 | GET      &quot;/ping&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>接口无返回</p>
<p>可以Abort()不会阻止当前middleware的执行，但是会中止下游middleware以及HandlerFunc的执行</p>
<p>参考：<a target="_blank" rel="noopener" href="https://juejin.cn/post/7134929302822322207">[Go Package] gin 中间件流程控制:c.Next() / c.Abort（）</a></p>
<h3 id="3-全局中间件和局部中间件"><a href="#3-全局中间件和局部中间件" class="headerlink" title="3.全局中间件和局部中间件"></a>3.全局中间件和局部中间件</h3><h4 id="1-白名单"><a href="#1-白名单" class="headerlink" title="1.白名单"></a>1.白名单</h4><p>上面给出的例子中，middleware将对全部的请求生效，这里可以通过指定白名单的方法来使其只对部分请求生效</p>
<h4 id="2-局部中间件"><a href="#2-局部中间件" class="headerlink" title="2.局部中间件"></a>2.局部中间件</h4><p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34556414/article/details/129922392">Golang Gin 局部、全局 中间件使用</a></p>
<h2 id="7-在Gin中使用http-handler中间件"><a href="#7-在Gin中使用http-handler中间件" class="headerlink" title="7.在Gin中使用http handler中间件"></a>7.在Gin中使用http handler中间件</h2><p>除了使用gin的middleware来实现中间件之外，也可以使用Go的标准库的net/http包来初始http请求</p>
<p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/guyan0319/article/details/89183816">GO中间件(Middleware)</a></p>
<p>在gin中使用的话，需要将http.Handler转换成gin.HanlderFunc</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// MiddleWare4 定义中间件4</span><br><span class="line">func MiddleWare4(next http.Handler) http.Handler &#123;</span><br><span class="line">	return http.HandlerFunc(func(writer http.ResponseWriter, request *http.Request) &#123;</span><br><span class="line">		fmt.Println(&quot;前 m4&quot;)</span><br><span class="line">		next.ServeHTTP(writer, request)</span><br><span class="line">		fmt.Println(&quot;后 m4&quot;)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 将 http.Handler 包装成 Gin 中间件的函数</span><br><span class="line">func WrapHandler(handler http.Handler) gin.HandlerFunc &#123;</span><br><span class="line">	return func(c *gin.Context) &#123;</span><br><span class="line">		handler.ServeHTTP(c.Writer, c.Request)</span><br><span class="line">		c.Next()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在router中添加middleware，注意需要将middleware写在局部路由的前面才能生效</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">wrappedMiddleware := middleware.WrapHandler(middleware.MiddleWare4(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) &#123;</span><br><span class="line">	// 空的 http.HandlerFunc，只为了包装中间件</span><br><span class="line">&#125;)))</span><br><span class="line">r.Use(wrappedMiddleware, middleware.MiddleWare1(), middleware.MiddleWare2())</span><br><span class="line"></span><br><span class="line">// Ping test</span><br><span class="line">r.GET(&quot;/ping&quot;, func(c *gin.Context) &#123;</span><br><span class="line">	c.String(http.StatusOK, &quot;pong&quot;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>参考：<a target="_blank" rel="noopener" href="https://github.com/go-kratos/examples/blob/main/http/middlewares/middlewares.go">https://github.com/go-kratos/examples/blob/main/http/middlewares/middlewares.go</a> </p>
        
          <p class="article-more-link">
            <a class="btn btn-primary" href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94gin%E6%A1%86%E6%9E%B6.html#more">全文 &gt;&gt;</a>
          </p>
        

      
    </div>

    

    <footer class="article-footer">
      <a data-url="http://tonglin0325.github.io/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94gin%E6%A1%86%E6%9E%B6.html" data-id="clq906k590000b60l09lf97qh" class="article-share-link">
        <i class="fa fa-share"></i> 分享
      </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/" rel="tag">golang</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-go学习笔记——Kratos框架" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Kratos%E6%A1%86%E6%9E%B6.html">go学习笔记——Kratos框架</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Kratos%E6%A1%86%E6%9E%B6.html" class="article-date"><time datetime="2024-05-08T16:00:00.000Z" itemprop="datePublished">2024-05-09</time></a>
</div>

    <div class="article-author">tonglin0325</div>
    

  </div>

  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>官方文档</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://go-kratos.dev/en/docs/getting-started/start/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="1-安装Go"><a href="#1-安装Go" class="headerlink" title="1.安装Go"></a>1.安装Go</h2><p>参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/tonglin0325/p/5524764.html">mac安装go1.20</a></p>
<h2 id="2-安装Kratos框架"><a href="#2-安装Kratos框架" class="headerlink" title="2.安装Kratos框架"></a>2.安装Kratos框架</h2><p>kratos依赖protobuf grpc等框架，需要先进行安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">brew install grpc</span><br><span class="line">brew install protobuf</span><br><span class="line">brew install protoc-gen-go</span><br><span class="line">brew install protoc-gen-go-grpc</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>验证</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">protoc --version</span><br><span class="line">protoc-gen-go --version</span><br><span class="line">protoc-gen-go-grpc --version</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>安装kratos框架</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go install github.com/go-kratos/kratos/cmd/kratos/v2@latest</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="3-创建项目"><a href="#3-创建项目" class="headerlink" title="3.创建项目"></a>3.创建项目</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 创建项目</span><br><span class="line">kratos new helloworld</span><br><span class="line"># 也可以指定仓库</span><br><span class="line">kratos new helloworld -r https://gitee.com/go-kratos/kratos-layout.git</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>编译项目</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">cd helloworld</span><br><span class="line"></span><br><span class="line"># 安装依赖</span><br><span class="line">make init</span><br><span class="line"></span><br><span class="line"># 生成wire依赖注入</span><br><span class="line">go generate ./...</span><br><span class="line"># 或者使用make</span><br><span class="line">make generate</span><br><span class="line"></span><br><span class="line"># 生成bin执行文件</span><br><span class="line">go build -o ./bin/ ./...</span><br><span class="line"># 或者使用make</span><br><span class="line">make build</span><br><span class="line"></span><br><span class="line"># 运行</span><br><span class="line">./bin/helloworld -conf ./configs</span><br><span class="line">或者</span><br><span class="line">kratos run</span><br><span class="line"></span><br><span class="line"># 测试</span><br><span class="line">curl &#x27;http://127.0.0.1:8000/helloworld/kratos&#x27;</span><br><span class="line">&#123;&quot;message&quot;:&quot;Hello kratos&quot;&#125;%</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>项目结构</p>
<img src="/images/517519-20240114110648722-2006585277.png" width="300" height="569" />

<p>Kratos项目如果想要使用<strong>debug模式</strong>来运行</p>
<p>需要将run kind从File修改成Directory，并指定Directory为main.go和wire_gen.go所在的目录，否则会报</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># command-line-arguments</span><br><span class="line">./main.go:77:23: undefined: wireApp</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>同时还需要额外指定conf文件的路径，否则会报</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">panic: stat ../../configs: no such file or directory</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>配置如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-conf ./configs/config.yaml</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>其中config.yaml的路径是相对于Working directory的，如果有多个config文件，也可以写文件夹，比如</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-conf ./configs</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/images/517519-20240114150451846-1493406162.png" width="700" height="469" />

<p>或者修改成package，指定成package path</p>
<img src="/images/517519-20240124213410086-1169458254.png" width="700" height="481" />

<p>debug成功</p>
<img src="/images/517519-20240114151508054-414842422.png" width="700" height="392" />

<p>如果想要添加额外的API，需要先添加proto文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kratos proto add api/helloworld/demo.proto</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/images/517519-20240114113025510-266443633.png" width="700" height="430" />

<p>编译proto文件生成model和grpc代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kratos proto client api/helloworld/demo/demo.proto</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>或者使用make命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">make api</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注意make api命令无法生成validate验证代码，需要额外使用make validate命令，但是kratos proto client命令是可以的</p>
<p>参考：<a target="_blank" rel="noopener" href="https://go-kratos.dev/docs/component/middleware/validate/">https://go-kratos.dev/docs/component/middleware/validate/</a></p>
<img src="/images/517519-20240114113514912-1396594130.png" width="300" height="162" />

<p>生成service模板代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kratos proto server api/helloworld/demo/demo.proto -t internal/service</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/images/517519-20240114114153099-1701711080.png" width="800" height="260" />

<p>参考文档：<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000043858476">从0到1安装启动Kratos框架</a> 和 <a target="_blank" rel="noopener" href="https://go-kratos.dev/en/docs/getting-started/usage">https://go-kratos.dev/en/docs/getting-started/usage</a></p>
<h2 id="4-Example项目"><a href="#4-Example项目" class="headerlink" title="4.Example项目"></a>4.Example项目</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/go-kratos/examples</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="5-Middleware"><a href="#5-Middleware" class="headerlink" title="5.Middleware"></a>5.Middleware</h2><p>区别于gin的middleware实现的是<strong>gin.HandlerFunc</strong>以及在gin中基于<strong>http.Handler</strong>的实现，参考：
        
          <p class="article-more-link">
            <a class="btn btn-primary" href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Kratos%E6%A1%86%E6%9E%B6.html#more">全文 &gt;&gt;</a>
          </p>
        

      
    </div>

    

    <footer class="article-footer">
      <a data-url="http://tonglin0325.github.io/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Kratos%E6%A1%86%E6%9E%B6.html" data-id="clrczopk70000cm0lh41i772g" class="article-share-link">
        <i class="fa fa-share"></i> 分享
      </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/" rel="tag">golang</a></li></ul>


    </footer>
  </div>
  
</article>



  


  <div id="page-nav">
    <nav><ul class="pagination"><li class="disabled"><span class="page-prev"><i class="fa fa-chevron-left"></i> Prev</a></li><li class="active"><span class="page-number">1</span></li><li><a class="page-number" href="/page/2/">2</a></li><li><a class="page-number" href="/page/3/">3</a></li><li class="disabled"><span class="page-space">&hellip;</span></li><li><a class="page-number" href="/page/60/">60</a></li><li><a class="page-next" rel="next" href="/page/2/">Next <i class="fa fa-chevron-right"></i></a></li></ul></nav>
  </div>



        </div>
        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          
  <div class="sidebar-module sidebar-module-inset">
  <h4>tonglin0325</h4>
  <div style="text-align:center;"><img src="/images/WechatIMG1.jpeg" width="150" height="150" style="vertical-align:middle;"/></div>
</div>


  


  
  <div class="sidebar-module">
    <h4>标签</h4>
    <ul class="sidebar-module-list" itemprop="keywords"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/AWS/" rel="tag">AWS</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Airbnb/" rel="tag">Airbnb</a><span class="sidebar-module-list-count">11</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Android/" rel="tag">Android</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/CDH/" rel="tag">CDH</a><span class="sidebar-module-list-count">11</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Doris/" rel="tag">Doris</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/ELK/" rel="tag">ELK</a><span class="sidebar-module-list-count">14</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Flink/" rel="tag">Flink</a><span class="sidebar-module-list-count">29</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Git/" rel="tag">Git</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Grafana/" rel="tag">Grafana</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/HAProxy/" rel="tag">HAProxy</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/HBase/" rel="tag">HBase</a><span class="sidebar-module-list-count">7</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Hadoop/" rel="tag">Hadoop</a><span class="sidebar-module-list-count">7</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Hive/" rel="tag">Hive</a><span class="sidebar-module-list-count">20</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Hudi/" rel="tag">Hudi</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/InfluxDB/" rel="tag">InfluxDB</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/JDBC/" rel="tag">JDBC</a><span class="sidebar-module-list-count">9</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/JMeter/" rel="tag">JMeter</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/JVM/" rel="tag">JVM</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Java/" rel="tag">Java</a><span class="sidebar-module-list-count">18</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/JavaWeb/" rel="tag">JavaWeb</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/LaTex/" rel="tag">LaTex</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Linkedin/" rel="tag">Linkedin</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Linux/" rel="tag">Linux</a><span class="sidebar-module-list-count">35</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/ML/" rel="tag">ML</a><span class="sidebar-module-list-count">23</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/ML-Infra/" rel="tag">ML Infra</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/MPP/" rel="tag">MPP</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Maven/" rel="tag">Maven</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/MySQL/" rel="tag">MySQL</a><span class="sidebar-module-list-count">16</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Nexus/" rel="tag">Nexus</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/OpenTSDB/" rel="tag">OpenTSDB</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Paper/" rel="tag">Paper</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Play/" rel="tag">Play</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Prometheus/" rel="tag">Prometheus</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Python/" rel="tag">Python</a><span class="sidebar-module-list-count">21</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/React/" rel="tag">React</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Redis/" rel="tag">Redis</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/RocksDB/" rel="tag">RocksDB</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Scala/" rel="tag">Scala</a><span class="sidebar-module-list-count">10</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Solr/" rel="tag">Solr</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Spark/" rel="tag">Spark</a><span class="sidebar-module-list-count">25</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a><span class="sidebar-module-list-count">18</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/SpringMVC/" rel="tag">SpringMVC</a><span class="sidebar-module-list-count">11</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Thrift/" rel="tag">Thrift</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/YARN/" rel="tag">YARN</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/antlr/" rel="tag">antlr</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/arthas/" rel="tag">arthas</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/avro/" rel="tag">avro</a><span class="sidebar-module-list-count">10</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/cassandra/" rel="tag">cassandra</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/clickhouse/" rel="tag">clickhouse</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/confluent/" rel="tag">confluent</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/docker/" rel="tag">docker</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/filebeat/" rel="tag">filebeat</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/flume/" rel="tag">flume</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/golang/" rel="tag">golang</a><span class="sidebar-module-list-count">15</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/google/" rel="tag">google</a><span class="sidebar-module-list-count">8</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/gradle/" rel="tag">gradle</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/hexo/" rel="tag">hexo</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/impala/" rel="tag">impala</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/jenkins/" rel="tag">jenkins</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/k8s/" rel="tag">k8s</a><span class="sidebar-module-list-count">11</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/kafka/" rel="tag">kafka</a><span class="sidebar-module-list-count">12</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/kerberos/" rel="tag">kerberos</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/kudu/" rel="tag">kudu</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/ldap/" rel="tag">ldap</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/mac/" rel="tag">mac</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/mongo/" rel="tag">mongo</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/mybatis/" rel="tag">mybatis</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/nginx/" rel="tag">nginx</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/nlp/" rel="tag">nlp</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/open-falcon/" rel="tag">open-falcon</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/openwrt/" rel="tag">openwrt</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/parquet/" rel="tag">parquet</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/presto/" rel="tag">presto</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/ranger/" rel="tag">ranger</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/scyllaDB/" rel="tag">scyllaDB</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/twitter/" rel="tag">twitter</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/zookeeper/" rel="tag">zookeeper</a><span class="sidebar-module-list-count">12</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/%E5%88%B7%E9%A2%98/" rel="tag">刷题</a><span class="sidebar-module-list-count">22</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/%E5%9B%BE%E5%AD%98%E5%82%A8%E5%8F%8A%E8%AE%A1%E7%AE%97/" rel="tag">图存储及计算</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" rel="tag">多线程</a><span class="sidebar-module-list-count">9</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/%E5%B9%BF%E5%91%8A%E7%B3%BB%E7%BB%9F/" rel="tag">广告系统</a><span class="sidebar-module-list-count">8</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" rel="tag">开发工具</a><span class="sidebar-module-list-count">19</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a><span class="sidebar-module-list-count">18</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/%E6%9D%82%E8%B0%88/" rel="tag">杂谈</a><span class="sidebar-module-list-count">9</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a><span class="sidebar-module-list-count">26</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/" rel="tag">系统设计</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a><span class="sidebar-module-list-count">8</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a><span class="sidebar-module-list-count">5</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>标签云</h4>
    <p class="tagcloud">
      <a href="/tags/AWS/" style="font-size: 11.25px;">AWS</a> <a href="/tags/Airbnb/" style="font-size: 14.17px;">Airbnb</a> <a href="/tags/Android/" style="font-size: 11.67px;">Android</a> <a href="/tags/CDH/" style="font-size: 14.17px;">CDH</a> <a href="/tags/Doris/" style="font-size: 10px;">Doris</a> <a href="/tags/ELK/" style="font-size: 15px;">ELK</a> <a href="/tags/Flink/" style="font-size: 19.58px;">Flink</a> <a href="/tags/Git/" style="font-size: 10.42px;">Git</a> <a href="/tags/Grafana/" style="font-size: 10px;">Grafana</a> <a href="/tags/HAProxy/" style="font-size: 10.83px;">HAProxy</a> <a href="/tags/HBase/" style="font-size: 12.5px;">HBase</a> <a href="/tags/Hadoop/" style="font-size: 12.5px;">Hadoop</a> <a href="/tags/Hive/" style="font-size: 17.08px;">Hive</a> <a href="/tags/Hudi/" style="font-size: 11.25px;">Hudi</a> <a href="/tags/InfluxDB/" style="font-size: 10px;">InfluxDB</a> <a href="/tags/JDBC/" style="font-size: 13.33px;">JDBC</a> <a href="/tags/JMeter/" style="font-size: 10px;">JMeter</a> <a href="/tags/JVM/" style="font-size: 11.67px;">JVM</a> <a href="/tags/Java/" style="font-size: 16.25px;">Java</a> <a href="/tags/JavaWeb/" style="font-size: 11.25px;">JavaWeb</a> <a href="/tags/LaTex/" style="font-size: 10px;">LaTex</a> <a href="/tags/Linkedin/" style="font-size: 10px;">Linkedin</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/ML/" style="font-size: 18.33px;">ML</a> <a href="/tags/ML-Infra/" style="font-size: 11.25px;">ML Infra</a> <a href="/tags/MPP/" style="font-size: 10px;">MPP</a> <a href="/tags/Maven/" style="font-size: 10.42px;">Maven</a> <a href="/tags/MySQL/" style="font-size: 15.83px;">MySQL</a> <a href="/tags/Nexus/" style="font-size: 11.67px;">Nexus</a> <a href="/tags/OpenTSDB/" style="font-size: 10.42px;">OpenTSDB</a> <a href="/tags/Paper/" style="font-size: 10px;">Paper</a> <a href="/tags/Play/" style="font-size: 10px;">Play</a> <a href="/tags/Prometheus/" style="font-size: 10.42px;">Prometheus</a> <a href="/tags/Python/" style="font-size: 17.5px;">Python</a> <a href="/tags/React/" style="font-size: 10.42px;">React</a> <a href="/tags/Redis/" style="font-size: 10.83px;">Redis</a> <a href="/tags/RocksDB/" style="font-size: 10px;">RocksDB</a> <a href="/tags/Scala/" style="font-size: 13.75px;">Scala</a> <a href="/tags/Solr/" style="font-size: 10.83px;">Solr</a> <a href="/tags/Spark/" style="font-size: 18.75px;">Spark</a> <a href="/tags/SpringBoot/" style="font-size: 16.25px;">SpringBoot</a> <a href="/tags/SpringMVC/" style="font-size: 14.17px;">SpringMVC</a> <a href="/tags/Thrift/" style="font-size: 12.08px;">Thrift</a> <a href="/tags/YARN/" style="font-size: 11.67px;">YARN</a> <a href="/tags/antlr/" style="font-size: 10.42px;">antlr</a> <a href="/tags/arthas/" style="font-size: 10px;">arthas</a> <a href="/tags/avro/" style="font-size: 13.75px;">avro</a> <a href="/tags/cassandra/" style="font-size: 10px;">cassandra</a> <a href="/tags/clickhouse/" style="font-size: 10.42px;">clickhouse</a> <a href="/tags/confluent/" style="font-size: 10.42px;">confluent</a> <a href="/tags/docker/" style="font-size: 10.83px;">docker</a> <a href="/tags/filebeat/" style="font-size: 11.25px;">filebeat</a> <a href="/tags/flume/" style="font-size: 10.42px;">flume</a> <a href="/tags/golang/" style="font-size: 15.42px;">golang</a> <a href="/tags/google/" style="font-size: 12.92px;">google</a> <a href="/tags/gradle/" style="font-size: 10px;">gradle</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/impala/" style="font-size: 11.25px;">impala</a> <a href="/tags/jenkins/" style="font-size: 10px;">jenkins</a> <a href="/tags/k8s/" style="font-size: 14.17px;">k8s</a> <a href="/tags/kafka/" style="font-size: 14.58px;">kafka</a> <a href="/tags/kerberos/" style="font-size: 10px;">kerberos</a> <a href="/tags/kudu/" style="font-size: 10.42px;">kudu</a> <a href="/tags/ldap/" style="font-size: 10.42px;">ldap</a> <a href="/tags/mac/" style="font-size: 11.67px;">mac</a> <a href="/tags/mongo/" style="font-size: 11.67px;">mongo</a> <a href="/tags/mybatis/" style="font-size: 10.83px;">mybatis</a> <a href="/tags/nginx/" style="font-size: 12.08px;">nginx</a> <a href="/tags/nlp/" style="font-size: 10px;">nlp</a> <a href="/tags/open-falcon/" style="font-size: 10.83px;">open-falcon</a> <a href="/tags/openwrt/" style="font-size: 10px;">openwrt</a> <a href="/tags/parquet/" style="font-size: 10.83px;">parquet</a> <a href="/tags/presto/" style="font-size: 12.08px;">presto</a> <a href="/tags/ranger/" style="font-size: 10px;">ranger</a> <a href="/tags/scyllaDB/" style="font-size: 10.83px;">scyllaDB</a> <a href="/tags/twitter/" style="font-size: 10.42px;">twitter</a> <a href="/tags/zookeeper/" style="font-size: 14.58px;">zookeeper</a> <a href="/tags/%E5%88%B7%E9%A2%98/" style="font-size: 17.92px;">刷题</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 12.08px;">前端</a> <a href="/tags/%E5%9B%BE%E5%AD%98%E5%82%A8%E5%8F%8A%E8%AE%A1%E7%AE%97/" style="font-size: 10.42px;">图存储及计算</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 13.33px;">多线程</a> <a href="/tags/%E5%B9%BF%E5%91%8A%E7%B3%BB%E7%BB%9F/" style="font-size: 12.92px;">广告系统</a> <a href="/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" style="font-size: 16.67px;">开发工具</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 16.25px;">数据结构</a> <a href="/tags/%E6%9D%82%E8%B0%88/" style="font-size: 13.33px;">杂谈</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 19.17px;">算法</a> <a href="/tags/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/" style="font-size: 10.42px;">系统设计</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 12.92px;">计算机网络</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 11.67px;">设计模式</a>
    </p>
  </div>



  
  <div class="sidebar-module">
    <h4>文章归档</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2024/10/">十月 2024</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2024/08/">八月 2024</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2024/05/">五月 2024</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2023/08/">八月 2023</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2022/07/">七月 2022</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2022/01/">一月 2022</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2021/12/">十二月 2021</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2021/11/">十一月 2021</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2021/09/">九月 2021</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2021/07/">七月 2021</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2021/05/">五月 2021</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2021/03/">三月 2021</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2021/01/">一月 2021</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/12/">十二月 2020</a><span class="sidebar-module-list-count">8</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/11/">十一月 2020</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/10/">十月 2020</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/09/">九月 2020</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/08/">八月 2020</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/07/">七月 2020</a><span class="sidebar-module-list-count">12</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/06/">六月 2020</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/05/">五月 2020</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/04/">四月 2020</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/03/">三月 2020</a><span class="sidebar-module-list-count">10</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/02/">二月 2020</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/01/">一月 2020</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/10/">十月 2019</a><span class="sidebar-module-list-count">12</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/09/">九月 2019</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/08/">八月 2019</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/07/">七月 2019</a><span class="sidebar-module-list-count">8</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/04/">四月 2019</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/03/">三月 2019</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/01/">一月 2019</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/12/">十二月 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/11/">十一月 2018</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/09/">九月 2018</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/06/">六月 2018</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/05/">五月 2018</a><span class="sidebar-module-list-count">10</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/04/">四月 2018</a><span class="sidebar-module-list-count">10</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/02/">二月 2018</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/01/">一月 2018</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/11/">十一月 2017</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/09/">九月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/07/">七月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/06/">六月 2017</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/05/">五月 2017</a><span class="sidebar-module-list-count">13</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/04/">四月 2017</a><span class="sidebar-module-list-count">23</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/03/">三月 2017</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/01/">一月 2017</a><span class="sidebar-module-list-count">23</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/12/">十二月 2016</a><span class="sidebar-module-list-count">15</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/11/">十一月 2016</a><span class="sidebar-module-list-count">21</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/10/">十月 2016</a><span class="sidebar-module-list-count">12</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/09/">九月 2016</a><span class="sidebar-module-list-count">16</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/08/">八月 2016</a><span class="sidebar-module-list-count">10</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/07/">七月 2016</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/06/">六月 2016</a><span class="sidebar-module-list-count">12</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/05/">五月 2016</a><span class="sidebar-module-list-count">32</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/04/">四月 2016</a><span class="sidebar-module-list-count">26</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/03/">三月 2016</a><span class="sidebar-module-list-count">134</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/02/">二月 2016</a><span class="sidebar-module-list-count">21</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/09/">九月 2015</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/08/">八月 2015</a><span class="sidebar-module-list-count">13</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/07/">七月 2015</a><span class="sidebar-module-list-count">31</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/06/">六月 2015</a><span class="sidebar-module-list-count">26</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/04/">四月 2015</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2013/04/">四月 2013</a><span class="sidebar-module-list-count">2</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>最近文章</h4>
    <ul class="sidebar-module-list">
      
        <li>
          <a href="/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E6%A1%86%E6%9E%B6DTM.html">go学习笔记——分布式事务框架DTM</a>
        </li>
      
        <li>
          <a href="/golang%E9%A1%B9%E7%9B%AE%E5%BC%95%E7%94%A8GitHub%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93module.html">golang项目引用GitHub私有仓库module</a>
        </li>
      
        <li>
          <a href="/k8s%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Istio%E5%92%8CKong.html">k8s学习笔记——Istio和Kong</a>
        </li>
      
        <li>
          <a href="/k8s%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94ingress.html">k8s学习笔记——ingress</a>
        </li>
      
        <li>
          <a href="/Presto%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Go%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%9E%E6%8E%A5Presto.html">Presto学习笔记——Go客户端连接Presto</a>
        </li>
      
    </ul>
  </div>




        </div>
    </div>
  </div>
  <footer class="blog-footer">
  <div class="container">
    <div id="footer-info" class="inner">
      &copy; 2024 tonglin0325<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

  

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9HZSXL1LDJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9HZSXL1LDJ');
</script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>



<script src="/js/jquery.qrcode.min.js"></script>



<script src="/js/jquery-1.9.0.min.js"></script>


</body>
</html>
